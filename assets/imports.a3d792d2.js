import{j as s}from"./jsx-runtime.d2728d72.js";import"./vendor.c293d705.js";function p(n={}){const{wrapper:a}=n.components||{};return a?s.exports.jsx(a,Object.assign({},n,{children:s.exports.jsx(o,{})})):o();function o(){const e=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",h3:"h3",pre:"pre",span:"span"},n.components);return s.exports.jsxs(s.exports.Fragment,{children:[s.exports.jsx(e.h1,{children:"Importing Libraries"}),`
`,s.exports.jsxs(e.p,{children:["Importing any library on npm should work, however be warned that a lot of ",s.exports.jsx(e.code,{children:"common.js"})," based projects (code using ",s.exports.jsx(e.code,{children:"require()"}),") use weird and unsupported tricks and global variables, which can't be easily translated to es modules."]}),`
`,s.exports.jsx(e.p,{children:"Thankfully, most recent and popular projects have switched to es-modules too."}),`
`,s.exports.jsx(e.h2,{children:"Common Issues"}),`
`,s.exports.jsx(e.h3,{children:"SSR error: Error require() of ES Module ... not supported"}),`
`,s.exports.jsxs(e.p,{children:["This happens for some packages when running in production mode (",s.exports.jsx(e.code,{children:"snowstorm start"})," or ",s.exports.jsx(e.code,{children:"snowstorm export"}),`). This is due to the way esm packages are externalized to speed up builds.
To fix this, add the package to the `,s.exports.jsx(e.code,{children:"noExternalize"})," field in your build config."]}),`
`,s.exports.jsx(e.p,{children:s.exports.jsx(e.code,{children:"snowstorm.config.ts"})}),`
`,s.exports.jsx(e.pre,{className:"language-tsx",children:s.exports.jsxs(e.code,{className:"language-tsx",children:[s.exports.jsx(e.span,{className:"token keyword",children:"import"})," ",s.exports.jsxs(e.span,{className:"token imports",children:[s.exports.jsx(e.span,{className:"token punctuation",children:"{"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"SnowstormConfig"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"}"})]})," ",s.exports.jsx(e.span,{className:"token keyword",children:"from"})," ",s.exports.jsx(e.span,{className:"token string",children:'"@snowstorm/core/server"'}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`

`,s.exports.jsx(e.span,{className:"token keyword",children:"export"})," ",s.exports.jsx(e.span,{className:"token keyword",children:"const"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Config"}),s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"SnowstormConfig"})," ",s.exports.jsx(e.span,{className:"token operator",children:"="})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
  site`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
    build`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
      noExternal`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"["}),`
        `,s.exports.jsx(e.span,{className:"token string",children:'"@pognetwork/proto"'}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        `,s.exports.jsx(e.span,{className:"token string",children:'"champ-wasm"'}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        `,s.exports.jsx(e.span,{className:"token string",children:'"d3-array"'}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
        `,s.exports.jsx(e.span,{className:"token string",children:'"d3-time-format"'}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
      `,s.exports.jsx(e.span,{className:"token punctuation",children:"]"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
    `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
  `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
`,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
`]})}),`
`,s.exports.jsx(e.h3,{children:"Issues when importing Webassembly modules"}),`
`,s.exports.jsx(e.p,{children:"Use the following plugin that we provide:"}),`
`,s.exports.jsx(e.pre,{className:"language-bash",children:s.exports.jsxs(e.code,{className:"language-bash",children:[s.exports.jsx(e.span,{className:"token function",children:"npm"}),` i @pognetwork/vite-plugin-wasm-pack
`]})}),`
`,s.exports.jsx(e.pre,{className:"language-tsx",children:s.exports.jsxs(e.code,{className:"language-tsx",children:[s.exports.jsx(e.span,{className:"token keyword",children:"import"})," ",s.exports.jsxs(e.span,{className:"token imports",children:[s.exports.jsx(e.span,{className:"token punctuation",children:"{"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"SnowstormConfig"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"}"})]})," ",s.exports.jsx(e.span,{className:"token keyword",children:"from"})," ",s.exports.jsx(e.span,{className:"token string",children:'"@snowstorm/core/server"'}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
`,s.exports.jsx(e.span,{className:"token keyword",children:"import"})," ",s.exports.jsx(e.span,{className:"token imports",children:"vitePluginWasmPack"})," ",s.exports.jsx(e.span,{className:"token keyword",children:"from"})," ",s.exports.jsx(e.span,{className:"token string",children:'"@pognetwork/vite-plugin-wasm-pack"'}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`

`,s.exports.jsx(e.span,{className:"token keyword",children:"export"})," ",s.exports.jsx(e.span,{className:"token keyword",children:"const"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"Config"}),s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token maybe-class-name",children:"SnowstormConfig"})," ",s.exports.jsx(e.span,{className:"token operator",children:"="})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
  site`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
    build`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"{"}),`
      noExternal`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"["}),s.exports.jsx(e.span,{className:"token string",children:'"your-wasm-module"'}),s.exports.jsx(e.span,{className:"token punctuation",children:"]"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
      plugins`,s.exports.jsx(e.span,{className:"token operator",children:":"})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"["}),s.exports.jsx(e.span,{className:"token function",children:"vitePluginWasmPack"}),s.exports.jsx(e.span,{className:"token punctuation",children:"("}),s.exports.jsx(e.span,{className:"token punctuation",children:"["}),s.exports.jsx(e.span,{className:"token punctuation",children:"]"}),s.exports.jsx(e.span,{className:"token punctuation",children:","})," ",s.exports.jsx(e.span,{className:"token punctuation",children:"["}),s.exports.jsx(e.span,{className:"token string",children:'"your-wasm-module"'}),s.exports.jsx(e.span,{className:"token punctuation",children:"]"}),s.exports.jsx(e.span,{className:"token punctuation",children:")"}),s.exports.jsx(e.span,{className:"token punctuation",children:"]"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
    `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
  `,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:","}),`
`,s.exports.jsx(e.span,{className:"token punctuation",children:"}"}),s.exports.jsx(e.span,{className:"token punctuation",children:";"}),`
`]})}),`
`,s.exports.jsxs(e.h3,{children:[s.exports.jsx(e.code,{children:"load-html.js"})," not found"]}),`
`,s.exports.jsx(e.p,{children:"Check the previous errors, something has prevented snowstorm from compiling a javascript bundle."})]})}}export{p as default};
